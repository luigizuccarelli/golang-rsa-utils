1. Generating CA

openssl genrsa -out rootCA.key 4096
openssl req -x509 -new -key rootCA.key -days 3650 -out rootCA.crt

2. Generate certificate for secure.domain.com signed with created CA

openssl genrsa -out secure.domain.com.key 2048
openssl req -new -key secure.domain.com.key -out secure.domain.com.csr
#In answer to question `Common Name (e.g. server FQDN or YOUR name) []:` you should set `secure.domain.com` (your real domain name)
openssl x509 -req -in secure.domain.com.csr -CA rootCA.crt -CAkey rootCA.key -CAcreateserial -days 365 -out secure.domain.com.crt


# From Git - preferred

#!/bin/bash
# call this script with an email address (valid or not).
# like:
# ./makecert.sh joe@random.com
mkdir certs
rm certs/*
echo "make server cert"
openssl req -new -nodes -x509 -out server.pem -keyout server.key -days 3650 -subj "/C=IE/ST=WATERFORD/L=Ireland/O=Prv Company/OU=IT/CN=www.random.com/emailAddress=luigizuccarelli@gmail.com"
echo "make client cert"
openssl req -new -nodes -x509 -out client.pem -keyout client.key -days 3650 -subj "/C=IE/ST=WATERFORD/L=Ireland/O=Prv Company/OU=IT/CN=www.random.com/emailAddress=luigizuccarelli@gmail.com"
server.go

